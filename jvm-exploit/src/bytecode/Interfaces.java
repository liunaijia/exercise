package bytecode;

import java.io.IOException;

public class Interfaces {
	private final String[] interfaceNames;

	public Interfaces(ByteCodeReader reader, ConstantPool constantPool) throws IOException {
		int interfacesCount = reader.read2u();
		
		interfaceNames = new String[interfacesCount];
		for(int i = 0; i < interfacesCount; i++){
			int index = reader.read2u();
			
			ConstantClassInfo classInfo = constantPool.getItem(index);
			ConstantUtf8Info interfaceNameInfo = constantPool.getItem(classInfo.getClassNameIndex());
			
			interfaceNames[i] = interfaceNameInfo.getString();					
		}
	}

	@Override
	public String toString() {
		StringBuilder sb = new StringBuilder();
		for(String name : interfaceNames)
			sb.append(name).append(" ");
		return sb.toString();
	}
}
